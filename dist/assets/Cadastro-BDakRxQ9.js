import{r as t,D as x,u as v,j as e}from"./index-CgRrw7Cw.js";const w="/educere-removebg-preview.png",j="/assets/envelope-BASxrmLf.png",b="/eye.png",N="/hidden.png",y="/assets/email-B5Z-68i9.png",E="/assets/padlock-Bbz40Mu-.png";function R(){const{data:c,adicionarDados:C,name:S,adicionarNomes:U,email:_,adicionarEmail:z}=t.useContext(x),[m,d]=t.useState([]);t.useState(""),t.useState(""),v();const[a,r]=t.useState({nome:"",email:"",senha:"",role:"",account:""}),[n,p]=t.useState(!1),h=c.filter(s=>s.__tabela==="MYUSER"),i={1:"Administrador",2:"Usuário"};t.useEffect(()=>{const s=h.map(o=>({id:o.ID,senha:o.SENHA,nome:o.NAME,email:o.EMAIL,role:o.ROLE,account:o.ACCOUNT}));d(s)},[c]);const g=async()=>{const s=m.find(o=>o.email===a.email);return console.log("usuarioEncontrado",s),!!s};async function f(s){s.preventDefault();try{if(!a.nome||!a.email||!a.role||!a.senha||!a.account){alert("Preencha todos os campos!");return}const o=await g();if(console.log("usuarioExistente",o),o){alert("Usuário já cadastrado!");return}const u={nome:a.nome,email:a.email,senha:a.senha,role:a.role,account:a.account};console.log("usuarioParaEnviar",u);const l=await fetch("http://192.168.10.250:3000/api/MYUSER",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!l.ok)throw new Error(`Erro ao criar usuário: ${l.statusText}`);const A=await l.json();r({nome:"",email:"",senha:"",role:"",account:""})}catch(o){console.log("Erro ao criar usuário: ",o)}}return e.jsxs("form",{method:"POST",className:"bg-gradient-to-r from-fundo_azul_claro_elegante to-azul_escuro h-screen flex items-center justify-center",children:[e.jsx("img",{src:w,alt:"logoEducere",className:`absolute w-32 max-sm:w-32 z-0\r
                        top-2 right-2\r
                        max-sm:top-4 max-sm:left-1/2 \r
                        max-sm:transform max-sm:-translate-x-1/2 \r
                        max-sm:translate-y-0`}),e.jsxs("div",{className:"caixaLogin max-sm:w-2/3 sm:w-1/2 lg:w-1/4 h-4/7 flex flex-col justify-center items-center bg-white bg-opacity-20 rounded-3xl shadow-lg backdrop-blur-sm pt-32",children:[e.jsx("img",{src:"../../usuario.png",alt:"Ícone de usuário",className:"max-sm:w-32 sm:w-32 lg:w-32 absolute top-2 "}),e.jsxs("div",{className:"relative w-3/4 mt-5",children:[e.jsx("input",{type:"text",placeholder:"Nome de usuário",required:!0,value:a.nome,onChange:s=>r({...a,nome:s.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx("img",{src:"../../usuarioGmail.png",alt:"Ícone de email",className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5"})]}),e.jsxs("div",{className:"relative w-3/4 mt-5",children:[e.jsx("input",{type:"email",placeholder:"Email",required:!0,value:a.email,onChange:s=>r({...a,email:s.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx("img",{src:y,alt:"Ícone de email",className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5"})]}),e.jsxs("div",{className:"relative w-3/4 mt-5",children:[e.jsx("input",{type:n?"text":"password",placeholder:"Senha",required:!0,value:a.senha,onChange:s=>r({...a,senha:s.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx("img",{src:E,alt:"Ícone de senha",className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5"}),e.jsx("button",{type:"button",onClick:()=>p(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("img",{src:n?b:N,alt:"Mostrar ou ocultar senha",className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative w-3/4 mt-4",children:[e.jsx("input",{type:"text",placeholder:"Cargo",required:!0,value:a.role,onChange:s=>r({...a,role:s.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx("img",{src:j,alt:"Ícone de senha",className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5"})]}),e.jsx("div",{className:"relative w-3/4 mt-5 flex justify-center items-center m-5",children:e.jsxs("select",{name:"selectRole",id:"selectRole",className:"bg-transparent bg-roxo rounded-md",value:a.account,onChange:s=>r({...a,account:s.target.value}),children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Atua como:"}),e.jsx("option",{value:i[1],children:"Administrador"}),e.jsx("option",{value:i[2],children:"Usuário"})]})}),e.jsx("button",{onClick:f,className:"bg-cinza text-white rounded-full w-1/2 py-2 mb-2 hover:bg-roxo hover:opacity-70 font-[Bagel Fat One]",children:"Cadastrar"})]})]})}export{R as default};
