import{r as t,D as x,u as f,j as a}from"./index-BAKO51cE.js";import{C as h,L as b,E as w,a as y}from"./lock-B7y9hUWP.js";import"./createLucideIcon-C2Uy8MVt.js";function S(){const{data:i,adicionarDados:N,name:j,adicionarNomes:c,email:r,adicionarEmail:u}=t.useContext(x);t.useState([]);const[l,m]=t.useState(""),d=f(),[o,g]=t.useState(!1);console.log("Dados do contexto:",i);const p=async()=>{try{const e=await fetch("http://192.168.10.250:3000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,senha:l})}),s=await e.json();if(!e.ok){alert(s.message);return}const n={ID:s.usuario.ID,NAME:s.usuario.NAME,EMAIL:s.usuario.EMAIL,ROLE:s.usuario.ROLE,ACCOUNT:s.usuario.ACCOUNT};c(n.NAME),localStorage.setItem("usuario",JSON.stringify(n)),localStorage.setItem("usuario_logado",s.mensagem),d("/TempoReal",{replace:!0})}catch(e){console.error("Erro ao logar:",e),alert("Erro ao tentar login.")}};return a.jsxs("div",{className:"bg-gradient-to-r from-fundo_azul_claro_elegante to-azul_escuro h-screen flex items-center justify-center",children:[a.jsx("img",{src:"/educere-removebg-preview.png",alt:"Logo Educere",className:"absolute w-32 max-sm:w-32 z-0 top-2 right-2 max-sm:top-4 max-sm:left-1/2 max-sm:transform max-sm:-translate-x-1/2 max-sm:translate-y-0",loading:"lazy"}),a.jsxs("div",{className:"caixaLogin max-sm:h-2/4 sm:w-1/2 lg:w-1/4 sm:h-3/5 md:h-4/5 lg:h-4/6 flex flex-col justify-end items-center bg-white bg-opacity-20 rounded-3xl shadow-lg backdrop-blur-sm pb-16 px-4 sm:px-6 md:px-8",children:[a.jsx("img",{src:"/usuario.png",alt:"Ícone de usuário",className:"max-sm:w-32 sm:w-32 lg:w-32 absolute top-2",loading:"lazy"}),a.jsxs("div",{className:"relative w-full m-4",children:[a.jsx("input",{type:"email",placeholder:"Email",required:!0,value:r,onChange:e=>u(e.target.value),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),a.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-black"})]}),a.jsxs("div",{className:"relative w-full m-4",children:[a.jsx("input",{type:o?"text":"password",placeholder:"Senha",required:!0,value:l,onChange:e=>m(e.target.value),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),a.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-black"}),a.jsx("button",{type:"button",onClick:()=>g(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:o?a.jsx(w,{className:"w-5 h-5 text-black"}):a.jsx(y,{className:"w-5 h-5 text-black"})})]}),a.jsx("button",{onClick:p,className:"bg-cinza text-white rounded-full w-full sm:w-1/2 py-2 mt-5 hover:bg-roxo hover:opacity-70 font-[Bagel Fat One]",children:"Login"})]})]})}export{S as default};
