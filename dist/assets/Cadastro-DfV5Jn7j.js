import{r as s,D as y,u as w,j as e}from"./index-Dlh7Wjpb.js";import{C as v,L as b,E as j,a as N}from"./lock-CQaS_jCB.js";import{c as m}from"./createLucideIcon-If2JPbPd.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],E=m("mail",k);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],U=m("user-round-cog",C),S="/educere-removebg-preview.png";function P(){const{data:c,adicionarDados:_,name:z,adicionarNomes:R,email:q,adicionarEmail:A}=s.useContext(y),[d,p]=s.useState([]);s.useState(""),s.useState(""),w();const[a,r]=s.useState({nome:"",email:"",senha:"",role:"",account:""}),[n,h]=s.useState(!1),x=c.filter(t=>t.__tabela==="MYUSER"),i={1:"Administrador",2:"Usuário"};s.useEffect(()=>{const t=x.map(o=>({id:o.ID,senha:o.SENHA,nome:o.NAME,email:o.EMAIL,role:o.ROLE,account:o.ACCOUNT}));p(t)},[c]);const f=async()=>{const t=d.find(o=>o.email===a.email);return console.log("usuarioEncontrado",t),!!t};async function g(t){t.preventDefault();try{if(!a.nome||!a.email||!a.role||!a.senha||!a.account){alert("Preencha todos os campos!");return}const o=await f();if(console.log("usuarioExistente",o),o){alert("Usuário já cadastrado!");return}const u={nome:a.nome,email:a.email,senha:a.senha,role:a.role,account:a.account};console.log("usuarioParaEnviar",u);const l=await fetch("http://192.168.3.250:3000/api/MYUSER",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!l.ok)throw new Error(`Erro ao criar usuário: ${l.statusText}`);const L=await l.json();r({nome:"",email:"",senha:"",role:"",account:""})}catch(o){console.log("Erro ao criar usuário: ",o)}}return e.jsxs("form",{method:"POST",className:"bg-gradient-to-r from-fundo_azul_claro_elegante to-azul_escuro h-screen flex items-center justify-center",children:[e.jsx("img",{src:S,alt:"logoEducere",className:`absolute w-32 max-sm:w-32 z-0\r
                        top-2 right-2\r
                        max-sm:top-4 max-sm:left-1/2 \r
                        max-sm:transform max-sm:-translate-x-1/2 \r
                        max-sm:translate-y-0`}),e.jsxs("div",{className:"caixaLogin max-sm:w-2/3 sm:w-1/2 lg:w-1/4 h-4/7 flex flex-col justify-center items-center bg-white bg-opacity-20 rounded-3xl shadow-lg backdrop-blur-sm pt-32",children:[e.jsx("img",{src:"/usuario.png",alt:"Ícone de usuário",className:"max-sm:w-32 sm:w-32 lg:w-32 absolute top-2 "}),e.jsxs("div",{className:"relative w-3/4 mt-5",children:[e.jsx("input",{type:"text",placeholder:"Nome de usuário",required:!0,value:a.nome,onChange:t=>r({...a,nome:t.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-black"})]}),e.jsxs("div",{className:"relative w-3/4 mt-5",children:[e.jsx("input",{type:"email",placeholder:"Email",required:!0,value:a.email,onChange:t=>r({...a,email:t.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-black"})]}),e.jsxs("div",{className:"relative w-3/4 mt-5",children:[e.jsx("input",{type:n?"text":"password",placeholder:"Senha",required:!0,value:a.senha,onChange:t=>r({...a,senha:t.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-black"}),e.jsx("button",{type:"button",onClick:()=>h(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n?e.jsx(j,{className:"w-5 h-5 text-black"}):e.jsx(N,{className:"w-5 h-5 text-black"})})]}),e.jsxs("div",{className:"relative w-3/4 mt-4",children:[e.jsx("input",{type:"text",placeholder:"Cargo",required:!0,value:a.role,onChange:t=>r({...a,role:t.target.value}),className:"w-full py-2 pl-10 pr-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-azul_claro"}),e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-black"})]}),e.jsx("div",{className:"relative w-3/4 mt-5 flex justify-center items-center m-5",children:e.jsxs("select",{name:"selectRole",id:"selectRole",className:"bg-transparent bg-roxo rounded-md",value:a.account,onChange:t=>r({...a,account:t.target.value}),children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Atua como:"}),e.jsx("option",{value:i[1],children:"Administrador"}),e.jsx("option",{value:i[2],children:"Usuário"})]})}),e.jsx("button",{onClick:g,className:"bg-cinza text-white rounded-full w-1/2 py-2 mb-2 hover:bg-roxo hover:opacity-70 font-[Bagel Fat One]",children:"Cadastrar"})]})]})}export{P as default};
